<!DOCTYPE html><!--  This site was created in Webflow. https://webflow.com  --><!--  Last Published: Fri May 16 2025 06:15:37 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="68269b7c12f8a3ad86be7f60" data-wf-site="68269b7b12f8a3ad86be7d56">
<head>
  <meta charset="utf-8">
  <title>Product Details - Raper</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/raper-2.webflow.css" rel="stylesheet" type="text/css">
  <link href="css/theme.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Montserrat:100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic"]  }});</script>
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="https://res.cloudinary.com/dt5pkdr0k/image/upload/v1747379718/fabicon_2_1_j76m5a.png" rel="shortcut icon" type="image/x-icon">
  <link href="https://res.cloudinary.com/dt5pkdr0k/image/upload/v1747379718/fabicon_2_1_j76m5a.png" rel="apple-touch-icon">
</head>
<body>
  <div class="page-wrapper is-relative">
    <!-- Banner de Sello Discográfico -->
    <div class="record-label-banner">
      <div class="container-large">
        <p class="record-label-text">SELLO DISCOGRÁFICO RAPER COMPANY</p>
      </div>
    </div>
    
    <div class="global-styles w-embed">
      <style>
/* Setting project Font much easily, as multiple of 10px. */ 
:root{
font-size : 62.5%;
}
body{
font-size : 1.6rem; /* 1REM = 10PX => 1.6REM = 16PX */
}

/* Estilos para el banner del sello discográfico */
.record-label-banner {
  width: 100%;
  background: linear-gradient(90deg, rgba(0,0,0,0.9) 0%, rgba(95, 164, 255, 0.2) 50%, rgba(0,0,0,0.9) 100%);
  padding: 10px 0;
  position: relative;
  z-index: 100;
  border-bottom: 1px solid rgba(95, 164, 255, 0.3);
}

.record-label-text {
  text-align: center;
  color: #fff;
  font-size: 1.4rem;
  font-weight: 600;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  margin: 0;
  text-shadow: 0 0 10px rgba(95, 164, 255, 0.5);
  animation: glow 3s ease-in-out infinite alternate;
}

@keyframes glow {
  0% {
    text-shadow: 0 0 5px rgba(95, 164, 255, 0.5);
  }
  100% {
    text-shadow: 0 0 15px rgba(95, 164, 255, 0.8), 0 0 20px rgba(95, 164, 255, 0.4);
  }
}

@media (max-width: 767px) {
  .record-label-text {
    font-size: 1.2rem;
    letter-spacing: 0.15em;
  }
}

/* Make text look crisper and more legible in all browsers */
body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}
/* Focus state style for keyboard navigation for the focusable elements */
*[tabindex]:focus-visible,
  input[type="file"]:focus-visible {
   outline: 0.125rem solid #4d65ff;
   outline-offset: 0.125rem;
}
/* Get rid of top margin on first element in any rich text element */
.w-richtext > :not(div):first-child, .w-richtext > div:first-child > :first-child {
  margin-top: 0 !important;
}
/* Get rid of bottom margin on last element in any rich text element */
.w-richtext>:last-child, .w-richtext ol li:last-child, .w-richtext ul li:last-child {
	margin-bottom: 0 !important;
}
/* Prevent all click and hover interaction with an element */
.pointer-events-off {
	pointer-events: none;
}
/* Enables all click and hover interaction with an element */
.pointer-events-on {
  pointer-events: auto;
}
/* Create a class of .div-square which maintains a 1:1 dimension of a div */
.div-square::after {
	content: "";
	display: block;
	padding-bottom: 100%;
}
/* Make sure containers never lose their center alignment */
.container-medium,.container-small, .container-large {
	margin-right: auto !important;
  margin-left: auto !important;
}
/* Product page styles matching the original design */
.product-section {
  background-color: #000;
  min-height: 100vh;
  padding: 12rem 0 8rem 0;
}
.product-container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 4rem;
}
.product-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8rem;
  align-items: start;
}
.product-image-section {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}
.product-main-image-container {
  background: linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 100%);
  border-radius: 2rem;
  padding: 4rem;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 600px;
  position: relative;
  overflow: hidden;
}
.product-main-image-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(circle at center, rgba(2, 255, 64, 0.1) 0%, transparent 70%);
  pointer-events: none;
}
.product-main-image {
  width: 100%;
  max-width: 500px;
  height: auto;
  object-fit: contain;
  position: relative;
  z-index: 2;
}
.product-thumbnails {
  display: flex;
  gap: 1.5rem;
  justify-content: center;
}
.product-thumbnail {
  width: 100px;
  height: 100px;
  background: #2a2a2a;
  border-radius: 1rem;
  padding: 1.5rem;
  cursor: pointer;
  border: 2px solid transparent;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}
.product-thumbnail:hover {
  border-color: #5fa4ff;
  background: #333;
}
.product-thumbnail.active {
  border-color: #5fa4ff;
  background: #333;
}
.product-thumbnail img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}
.product-info-section {
  color: white;
  display: flex;
  flex-direction: column;
  gap: 3rem;
}
.product-title {
  font-size: 3.5rem;
  font-weight: 700;
  color: white;
  margin: 0;
  line-height: 1.2;
}
.product-price {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.price-current {
  font-size: 2.5rem;
  font-weight: 700;
  color: #5fa4ff;
}
.price-label {
  font-size: 1.8rem;
  color: #888;
}
.product-description {
  font-size: 1.8rem;
  line-height: 1.6;
  color: #b0b0b0;
  margin: 0;
}
.product-features {
  background: #1a1a1a;
  border-radius: 1.5rem;
  padding: 3rem;
}
.features-title {
  font-size: 2.2rem;
  font-weight: 600;
  color: #5fa4ff;
  margin-bottom: 2rem;
}
.features-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}
.feature-item {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  font-size: 1.6rem;
  color: #e0e0e0;
}
.feature-icon {
  color: #5fa4ff;
  font-size: 1.8rem;
  font-weight: 600;
  width: 24px;
  text-align: center;
}
.product-specs {
  background: #1a1a1a;
  border-radius: 1.5rem;
  padding: 3rem;
}
.specs-title {
  font-size: 2.2rem;
  font-weight: 600;
  color: #5fa4ff;
  margin-bottom: 2rem;
}
.specs-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 1.5rem;
}
.spec-item {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  font-size: 1.6rem;
  color: #e0e0e0;
}
.spec-icon {
  font-size: 2.2rem;
  font-weight: 600;
}
.product-actions-section {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}
.quantity-and-cart {
  display: flex;
  gap: 2rem;
  align-items: center;
}
.quantity-selector {
  display: flex;
  align-items: center;
  background: #2a2a2a;
  border-radius: 1rem;
  overflow: hidden;
  border: 1px solid #404040;
}
.quantity-btn {
  background: transparent;
  border: none;
  color: white;
  width: 50px;
  height: 50px;
  font-size: 2rem;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}
.quantity-btn:hover {
  background: #5fa4ff;
  color: #000;
}
.quantity-input {
  background: transparent;
  border: none;
  color: white;
  text-align: center;
  width: 60px;
  height: 50px;
  font-size: 1.6rem;
  font-weight: 600;
}
.add-to-cart-btn {
  background: linear-gradient(135deg, #5fa4ff 0%, #4fd1c5 100%);
  color: #000;
  border: none;
  padding: 1.5rem 4rem;
  font-size: 1.6rem;
  font-weight: 700;
  border-radius: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  flex: 1;
  position: relative;
  overflow: hidden;
  box-shadow: 0 5px 20px rgba(95, 164, 255, 0.3);
  animation: cartButtonPulse 4s infinite;
  z-index: 1;
}

@keyframes cartButtonPulse {
  0%, 100% {
    box-shadow: 0 5px 20px rgba(95, 164, 255, 0.3);
  }
  50% {
    box-shadow: 0 5px 30px rgba(95, 164, 255, 0.7);
  }
}

.add-to-cart-btn::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, 
    rgba(95, 164, 255, 0) 0%, 
    rgba(95, 164, 255, 0.1) 50%, 
    rgba(79, 209, 197, 0.3) 100%);
  animation: shinyCartEffect 6s linear infinite;
  transform: rotate(25deg);
  z-index: -1;
}

@keyframes shinyCartEffect {
  0% {
    transform: translateX(-100%) rotate(25deg);
  }
  20%, 100% {
    transform: translateX(100%) rotate(25deg);
  }
}

.add-to-cart-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #5fa4ff 0%, #4fd1c5 100%);
  z-index: -2;
  opacity: 1;
  transition: opacity 0.3s ease;
}

.add-to-cart-btn:hover {
  background: white;
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 15px 40px rgba(95, 164, 255, 0.5);
  letter-spacing: 0.1em;
}

.add-to-cart-btn:hover::after {
  opacity: 0.9;
  background: linear-gradient(135deg, #4fd1c5 0%, #5fa4ff 100%);
}
.product-meta {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem 0;
  border-top: 1px solid #333;
}
.meta-row {
  display: flex;
  gap: 2rem;
}
.meta-label {
  color: #888;
  font-weight: 600;
  min-width: 100px;
}
.meta-value {
  color: #e0e0e0;
}
@media screen and (max-width: 1200px) {
  .product-container {
    padding: 0 2rem;
  }
  .product-layout {
    gap: 6rem;
  }
}
@media screen and (max-width: 991px) {
  .product-layout {
    grid-template-columns: 1fr;
    gap: 4rem;
  }
  .product-title {
    font-size: 3rem;
  }
  .quantity-and-cart {
    flex-direction: column;
    align-items: stretch;
  }
}
@media screen and (max-width: 767px) {
  .product-container {
    padding: 0 1.5rem;
  }
  .product-section {
    padding: 10rem 0 6rem 0;
  }
  .product-title {
    font-size: 2.5rem;
  }
  .product-thumbnails {
    gap: 1rem;
  }
  .product-thumbnail {
    width: 80px;
    height: 80px;
  }
}
</style>
    </div>

    <div class="navbar-sticky">
      <div class="padding-global is_full-height">
        <div class="container-large is_full-height">
          <div class="navbar-sticky__wrapper">
            <a href="#" class="navbar-sticky__heading">
              <img src="https://pub-573f900cac3744cfbb3b1f02894f7042.r2.dev/Asset%2019supreme%20(1).png" alt="Raper Logo" class="navbar-logo">
            </a>
            <div class="navbar-sticky__links-wrapper">
              <div class="nav-links">
                <a href="/" class="navbar-sticky__link">Inicio</a>
                <a href="/store.html" class="navbar-sticky__link">Tienda</a>
                <a href="/careers.html" class="navbar-sticky__link">Trabaja con Nosotros</a>
              </div>
            </div>
            <!-- Navbar Actions - Siempre visible -->
            <div class="navbar-actions">
              <div class="cart-icon-wrapper" onclick="showCart()">
                <svg class="cart-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 22C9.55228 22 10 21.5523 10 21C10 20.4477 9.55228 20 9 20C8.44772 20 8 20.4477 8 21C8 21.5523 8.44772 22 9 22Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M20 22C20.5523 22 21 21.5523 21 21C21 20.4477 20.5523 20 20 20C19.4477 20 19 20.4477 19 21C19 21.5523 19.4477 22 20 22Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M1 1H5L7.68 14.39C7.77144 14.8504 8.02191 15.264 8.38755 15.5583C8.75318 15.8526 9.2107 16.009 9.68 16H19.4C19.8693 16.009 20.3268 15.8526 20.6925 15.5583C21.0581 15.264 21.3086 14.8504 21.4 14.39L23 6H6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <div id="cart-count">0</div>
              </div>
              <!-- Mobile Menu Button -->
              <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar-sticky__background"></div>
      
      <!-- Mobile Menu -->
      <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-links">
          <a href="/" class="mobile-menu-link">Inicio</a>
          <a href="/store.html" class="mobile-menu-link">Tienda</a>
          <a href="/careers.html" class="mobile-menu-link">Trabaja con Nosotros</a>
        </div>
        <div class="mobile-menu-contact">
          <div class="contact-item">
            <span class="flag">🇺🇸</span>
            <span class="phone">+1 (786) 978-1978</span>
          </div>
          <div class="contact-item">
            <span class="flag">🇦🇷</span>
            <span class="phone">+54 9 11 3422 6971</span>
          </div>
        </div>
      </div>
    </div>
    
    <main class="main-wrapper">
      <div class="product-section">
        <div class="product-container">
          <div class="product-layout">
            <!-- Sección de imagen del producto -->
            <div class="product-image-section">
              <div class="product-main-image-container">
                <img src="https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/1_bkqjfk.jpg" alt="RAPER Blanco Perla" class="product-main-image" id="main-product-image">
              </div>
              <div class="product-thumbnails">
                <div class="product-thumbnail active" onclick="changeMainImage(this, 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/1_bkqjfk.jpg')">
                  <img src="https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/1_bkqjfk.jpg" alt="RAPER Blanco Perla">
                </div>
                <div class="product-thumbnail" onclick="changeMainImage(this, 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/4_ljygwt.jpg')">
                  <img src="https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/4_ljygwt.jpg" alt="RAPER Blanco Perla - Vista Lateral">
                </div>
                <div class="product-thumbnail" onclick="changeMainImage(this, 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398980/9_tl7qox.jpg')">
                  <img src="https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398980/9_tl7qox.jpg" alt="RAPER Blanco Perla - Vista Adicional">
                </div>
              </div>
            </div>

            <!-- Sección de información del producto -->
            <div class="product-info-section">
              <h1 class="product-title">RAPER Blanco Perla</h1>
              
              <div class="product-price">
                <span class="price-current">$199.000 ARS</span>
                <span class="price-label">Precio final</span>
              </div>
              
              <p class="product-description">
                Experimentá la excelencia en audio con tecnología de cancelación activa de ruido que te aísla completamente del mundo exterior. Con una batería de 1000mAH que brinda más de 25 horas de reproducción continua, estos auriculares redefinen lo que significa la libertad sonora. Fabricados con materiales de nylon premium importados y equipados con Bluetooth 5.0 para una conexión impecable.
              </p>

              <div class="product-features">
                <h3 class="features-title">Especificaciones Técnicas</h3>
                <ul class="features-list">
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Cancelación Activa de Ruido Avanzada</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Batería 1000mAH - Más de 25 horas de reproducción</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Bluetooth 5.0 - Conexión estable hasta 10 metros</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Modo Dual: Auricular + Altavoz integrado</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Ecualizador con efectos de sonido múltiples</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Almohadillas de espuma con memoria premium</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Materiales de nylon importados de alta resistencia</span>
                  </li>
                  <li class="feature-item">
                    <span class="feature-icon">✓</span>
                    <span>Micrófono integrado para llamadas HD</span>
                  </li>
                </ul>
              </div>

              <div class="product-specs">
                <h3 class="specs-title">Incluye en la Caja</h3>
                <div class="specs-grid">
                  <div class="spec-item">
                    <span class="spec-icon">📦</span>
                    <span>Auriculares RAPER Blanco Perla</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-icon">📖</span>
                    <span>Manual de usuario en español</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-icon">🎵</span>
                    <span>Cable AUX de 3.5mm premium</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-icon">🔌</span>
                    <span>Cable de carga USB-C</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-icon">💳</span>
                    <span>Tarjeta de garantía RAPER</span>
                  </div>
                  <div class="spec-item">
                    <span class="spec-icon">👜</span>
                    <span>Estuche de transporte premium</span>
                  </div>
                </div>
              </div>

              <div class="product-actions-section">
                <div class="quantity-and-cart">
                  <div class="quantity-selector">
                    <button class="quantity-btn" onclick="updateQuantity(-1)">-</button>
                    <input type="number" id="quantity" class="quantity-input" value="1" min="1" readonly>
                    <button class="quantity-btn" onclick="updateQuantity(1)">+</button>
                  </div>
                  <button class="add-to-cart-btn" onclick="addToCart()" id="add-to-cart-button" data-product-id="4" data-i18n="add-to-cart">
                    AGREGAR AL CARRITO
                  </button>
                </div>
                </div>
                
                <div class="product-meta">
                <div class="meta-row">
                  <span class="meta-label">SKU:</span>
                  <span class="meta-value">RAPER-BP-001</span>
                  </div>
                <div class="meta-row">
                  <span class="meta-label">Categoría:</span>
                  <span class="meta-value">Auriculares Premium</span>
                  </div>
                <div class="meta-row">
                  <span class="meta-label">Características:</span>
                  <span class="meta-value">bluetooth, cancelación de ruido, premium, inalámbrico</span>
                </div>
                <div class="meta-row">
                  <span class="meta-label">Garantía:</span>
                  <span class="meta-value">2 años RAPER Argentina</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=68269b7b12f8a3ad86be7d56" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <script src="js/cart.js" type="text/javascript"></script>
  <script src="js/theme.js" type="text/javascript"></script>
  
  
  <script>
    // Obtener el ID del producto de la URL
    function getProductIdFromUrl() {
      const urlParams = new URLSearchParams(window.location.search);
      const idFromUrl = urlParams.get('id');
      console.log(`🔍 ID de URL: ${idFromUrl}`);
      return idFromUrl;
    }
    
    // Función para cambiar imagen principal
    function changeMainImage(thumbnail, imageSrc) {
      // Remover clase active de todos los thumbnails
      document.querySelectorAll('.product-thumbnail').forEach(thumb => {
        thumb.classList.remove('active');
      });
      
      // Agregar clase active al thumbnail clickeado
      thumbnail.classList.add('active');
      
      // Cambiar imagen principal con efecto
      const mainImage = document.getElementById('main-product-image');
      mainImage.style.opacity = '0.7';
      mainImage.style.transform = 'scale(0.95)';
      
      setTimeout(() => {
        mainImage.src = imageSrc;
        mainImage.style.opacity = '1';
        mainImage.style.transform = 'scale(1)';
      }, 200);
    }

    // Función para actualizar cantidad
    function updateQuantity(change) {
      const quantityInput = document.getElementById('quantity');
      const currentValue = parseInt(quantityInput.value) || 1;
      const newValue = Math.max(1, currentValue + change);
      quantityInput.value = newValue;
      
      // Efecto visual en el input
      quantityInput.style.transform = 'scale(1.1)';
      setTimeout(() => {
        quantityInput.style.transform = 'scale(1)';
      }, 200);
    }

    // Función para agregar al carrito (SIMPLIFICADA Y ARREGLADA)
    function addToCart() {
      console.log('🛒 === INICIANDO PROCESO DE CARRITO ===');
      
      // Múltiples métodos para obtener el ID del producto
      let productId = null;
      
      // Método 1: Del botón
      const button = document.getElementById('add-to-cart-button');
      if (button) {
        productId = button.getAttribute('data-product-id');
        console.log(`📍 ID desde botón: ${productId}`);
      }
      
      // Método 2: De la URL si no hay en el botón
      if (!productId) {
        productId = getProductIdFromUrl();
        console.log(`🌐 ID desde URL: ${productId}`);
      }
      
      // Método 3: Fallback hardcoded para esta página (Blanco Perla)
      if (!productId) {
        productId = '4'; // Esta página parece ser del producto Blanco Perla
        console.log(`⚡ ID fallback: ${productId}`);
      }
      
      const quantity = parseInt(document.getElementById('quantity').value) || 1;
      
      if (!productId) {
        console.error("❌ CRÍTICO: No se pudo obtener el ID del producto por ningún método");
        alert("Error crítico: No se puede identificar el producto");
        return;
      }
      
      console.log(`📦 PRODUCTO CONFIRMADO - ID: ${productId}, Cantidad: ${quantity}`);
      
      // Efecto visual en el botón
      const addButton = document.querySelector('.add-to-cart-btn') || button;
      const originalText = addButton.textContent;
      const originalBg = addButton.style.background;
      
      addButton.style.transform = 'scale(0.95)';
      addButton.textContent = 'AGREGANDO...';
      addButton.style.background = '#5fa4ff';
      addButton.disabled = true;
      
      let success = false;
      
      // USAR DIRECTAMENTE EL SISTEMA PRINCIPAL DE CART.JS
      try {
        console.log('🔍 Estado del sistema:', {
          hasGlobalAddToCart: typeof window.addToCart === 'function',
          isItSameFunction: window.addToCart === addToCart,
          productId: productId,
          quantity: quantity
        });
        
        if (typeof window.addToCart === 'function' && window.addToCart !== addToCart) {
          console.log('🔄 Usando sistema principal de cart.js...');
          
          // Verificar el estado inicial del carrito
          const initialCart = JSON.parse(localStorage.getItem('raperCart')) || [];
          console.log('📋 Carrito inicial:', initialCart.length, 'items');
          
          // Agregar la cantidad correcta
          success = true;
          for (let i = 0; i < quantity; i++) {
            const itemSuccess = window.addToCart(productId);
            if (!itemSuccess) {
              success = false;
              console.error(`❌ Falló al agregar item ${i + 1}/${quantity}`);
              break;
            }
            console.log(`✅ Item ${i + 1}/${quantity} agregado exitosamente`);
          }
          
          if (success) {
            // Verificar el estado final del carrito
            const finalCart = JSON.parse(localStorage.getItem('raperCart')) || [];
            console.log('📋 Carrito final:', finalCart.length, 'items');
            console.log('✅ Éxito con cart.js');
          }
        } else {
          console.log('🔄 Sistema cart.js no disponible, usando fallback...');
          console.log('🔍 Razón:', {
            globalAddToCartExists: typeof window.addToCart === 'function',
            isSameFunction: window.addToCart === addToCart
          });
          success = addToCartDirectlyFixed(productId, quantity);
        }
      } catch (error) {
        console.error('❌ Error con sistema principal:', error);
        console.log('🔄 Usando fallback...');
        success = addToCartDirectlyFixed(productId, quantity);
      }
      
      // Mostrar resultado
      setTimeout(() => {
        if (success) {
          addButton.style.transform = 'translateY(-2px)';
          addButton.textContent = '✓ AGREGADO AL CARRITO';
          addButton.style.background = '#4fd1c5';
          
          // Efectos de éxito
          showProductSuccessNotification(productId, quantity);
          updateCartCountFromDetails();
          
          // Asegurarse de que el contador principal también se actualice
          if (typeof window.updateCartCount === 'function') {
            window.updateCartCount();
          }
          
          console.log(`✅ === ÉXITO TOTAL: ${quantity} producto(s) agregado(s) ===`);
          
          // Restaurar botón
          setTimeout(() => {
            addButton.textContent = originalText;
            addButton.style.background = originalBg;
            addButton.style.transform = 'scale(1)';
            addButton.disabled = false;
          }, 2000);
          
        } else {
          addButton.style.transform = 'scale(1)';
          addButton.textContent = originalText;
          addButton.style.background = originalBg;
          addButton.disabled = false;
          
          console.error('❌ === FALLO TOTAL: No se pudo agregar el producto ===');
          
          // Mensaje de error más específico
          const errorMsg = `Error al agregar el producto (ID: ${productId}). Verifique la consola para más detalles.`;
          alert(errorMsg);
        }
      }, 800);
    }
    
    // Función fallback mejorada y garantizada
    function addToCartDirectlyFixed(productId, quantity) {
      try {
        console.log('📋 === MÉTODO FALLBACK ACTIVADO ===');
        console.log(`📋 Agregando ${quantity} unidades del producto ${productId}`);
        
        // Base de datos completa de productos
        const productDatabase = {
          '1': { 
            name: 'RAPER Celeste Místico', 
            price: 250000, 
            image: 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398980/9_tl7qox.jpg',
            sku: 'RAPER-CM-001'
          },
          '2': { 
            name: 'RAPER Violeta Real', 
            price: 250000, 
            image: 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/1_bkqjfk.jpg',
            sku: 'RAPER-VR-002'
          },
          '3': { 
            name: 'RAPER Negro Obsidiana', 
            price: 250000, 
            image: 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748451429/10_oriq88.jpg',
            sku: 'RAPER-NO-003'
          },
          '4': { 
            name: 'RAPER Blanco Perla', 
            price: 199000, 
            image: 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398979/4_ljygwt.jpg',
            sku: 'RAPER-BP-004'
          },
          '5': { 
            name: 'RAPER Auricular Celeste', 
            price: 250000, 
            image: 'https://res.cloudinary.com/dyrgyzca3/image/upload/v1748398980/9_tl7qox.jpg',
            sku: 'RAPER-AC-005'
          }
        };
        
        const product = productDatabase[productId.toString()];
        if (!product) {
          console.error(`❌ Producto ID ${productId} no encontrado en base de datos`);
          console.log('📋 IDs disponibles:', Object.keys(productDatabase));
          return false;
        }
        
        console.log(`📋 Producto encontrado: ${product.name}`);
        
        // Obtener carrito actual
        let cart = [];
        try {
          const cartData = localStorage.getItem('raperCart');
          cart = cartData ? JSON.parse(cartData) : [];
          console.log(`📋 Carrito actual tiene ${cart.length} tipos de productos`);
        } catch (error) {
          console.error('❌ Error leyendo carrito, creando nuevo:', error);
          cart = [];
        }
        
        // Buscar producto existente
        const existingItemIndex = cart.findIndex(item => item.id.toString() === productId.toString());
        
        if (existingItemIndex !== -1) {
          // Actualizar cantidad
          cart[existingItemIndex].quantity = parseInt(cart[existingItemIndex].quantity) + parseInt(quantity);
          console.log(`📈 Cantidad actualizada: ${cart[existingItemIndex].quantity}`);
        } else {
          // Agregar nuevo producto
          cart.push({
            id: productId.toString(),
            name: product.name,
            price: product.price,
            image: product.image,
            quantity: parseInt(quantity),
            sku: product.sku,
            addedAt: new Date().toISOString()
          });
          console.log(`➕ Producto nuevo agregado: ${product.name}`);
        }
        
        // Guardar carrito
        try {
          localStorage.setItem('raperCart', JSON.stringify(cart));
          console.log('💾 Carrito guardado exitosamente en localStorage');
          
          // Verificar que se guardó correctamente
          const verification = localStorage.getItem('raperCart');
          const verifiedCart = JSON.parse(verification);
          console.log(`✅ Verificación: carrito tiene ${verifiedCart.length} tipos de productos`);
          
          return true;
          
        } catch (error) {
          console.error('❌ Error guardando carrito:', error);
          return false;
        }
        
      } catch (error) {
        console.error('❌ Error crítico en addToCartDirectlyFixed:', error);
        return false;
      }
    }
    
    // Actualizar contador del carrito
    function updateCartCountFromDetails() {
      try {
        const cart = JSON.parse(localStorage.getItem('raperCart')) || [];
        const totalItems = cart.reduce((sum, item) => sum + parseInt(item.quantity), 0);
        
        const cartCountElement = document.getElementById('cart-count');
        if (cartCountElement) {
          cartCountElement.textContent = totalItems;
          cartCountElement.style.display = totalItems > 0 ? 'flex' : 'none';
          console.log(`🔢 Contador actualizado: ${totalItems}`);
        }
      } catch (error) {
        console.error('❌ Error actualizando contador:', error);
      }
    }
    
    // Mostrar notificación de éxito
    function showProductSuccessNotification(productId, quantity) {
      // Remover notificación anterior
      const existing = document.querySelector('.product-notification');
      if (existing) existing.remove();
      
      // Crear notificación
      const notification = document.createElement('div');
      notification.className = 'product-notification';
      notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(135deg, #4fd1c5, #5fa4ff);
        color: #000;
        padding: 16px 20px;
        border-radius: 12px;
        font-weight: 600;
        font-size: 14px;
        z-index: 10000;
        box-shadow: 0 10px 30px rgba(79, 209, 197, 0.4);
        transform: translateX(300px);
        opacity: 0;
        transition: all 0.4s ease;
      `;
      
      notification.innerHTML = `
        <div style="display: flex; align-items: center; gap: 12px;">
          <span style="font-size: 18px;">🛒</span>
          <div>
            <div style="font-weight: 700;">Producto agregado</div>
            <div style="font-size: 12px; opacity: 0.8;">Cantidad: ${quantity}</div>
          </div>
        </div>
      `;
      
      document.body.appendChild(notification);
      
      // Animar
      setTimeout(() => {
        notification.style.transform = 'translateX(0)';
        notification.style.opacity = '1';
      }, 100);
      
      // Remover después de 3 segundos
      setTimeout(() => {
        notification.style.transform = 'translateX(300px)';
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 400);
      }, 3000);
    }

    // Inicialización mejorada
    document.addEventListener('DOMContentLoaded', function() {
      // Cargar datos del producto actual basado en el ID de la URL
      const productId = getProductIdFromUrl();
      if (productId) {
        // Aquí podrías cargar dinámicamente la información del producto
        console.log(`Cargando producto ID: ${productId}`);
      }
      
      // Mejorar interactividad de thumbnails
      const thumbnails = document.querySelectorAll('.product-thumbnail');
      thumbnails.forEach(thumbnail => {
        thumbnail.addEventListener('mouseenter', function() {
          this.style.cursor = 'pointer';
          this.style.transform = 'scale(1.05)';
          this.style.borderColor = '#5fa4ff';
        });
        
        thumbnail.addEventListener('mouseleave', function() {
          if (!this.classList.contains('active')) {
            this.style.transform = 'scale(1)';
            this.style.borderColor = 'transparent';
          }
        });
      });

      // Mejorar interactividad de botones de cantidad
      const quantityBtns = document.querySelectorAll('.quantity-btn');
      quantityBtns.forEach(btn => {
        btn.addEventListener('mouseenter', function() {
          this.style.cursor = 'pointer';
          this.style.transform = 'scale(1.1)';
        });
        
        btn.addEventListener('mouseleave', function() {
          this.style.transform = 'scale(1)';
        });
      });

      // Mejorar interactividad del botón principal
      const addToCartBtn = document.querySelector('.add-to-cart-btn');
      if (addToCartBtn) {
        addToCartBtn.addEventListener('mouseenter', function() {
          this.style.cursor = 'pointer';
          this.style.boxShadow = '0 8px 25px rgba(95, 164, 255, 0.4)';
        });
        
        addToCartBtn.addEventListener('mouseleave', function() {
          this.style.boxShadow = '';
        });
      }
    });
  </script>
  
  <div id="side-cart-container" class="side-cart-container">
    <div id="side-cart-overlay" class="side-cart-overlay"></div>
    <div id="side-cart" class="side-cart">
      <button id="close-cart-btn" class="close-cart-btn">&times;</button>
      <div id="side-cart-content" class="side-cart-content">
        <!-- Cart content will be loaded here -->
        <p data-i18n="cart-loading">Cargando carrito...</p>
      </div>
    </div>
  </div>
  
</body>
</html> 